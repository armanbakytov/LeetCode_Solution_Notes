#hard
# Problem
Given two sorted arrays `nums1` and `nums2` of size `m` and `n` respectively, return **the median** of the two sorted arrays.

The overall run time complexity should be `O(log (m+n))`.

**Example 1:**
**Input:** `nums1 = [1,3], nums2 = [2]`
**Output:** `2.00000`
**Explanation:** merged array = `[1,2,3]` and median is 2.

**Example 2:**
**Input:** `nums1 = [1,2], nums2 = [3,4]`
**Output:** `2.50000`
**Explanation:** merged array = `[1,2,3,4]` and median is (2 + 3) / 2 = 2.5.

**Constraints:**
- `nums1.length == m`
- `nums2.length == n`
- `0 <= m <= 1000`
- `0 <= n <= 1000`
- `1 <= m + n <= 2000`
- `-106 <= nums1[i], nums2[i] <= 106`

# Solution

>The first intuition is to just go linearly, choosing between whichever is smaller. But then, you would get O(n+m) complexity.

> The second thought is we could take the middles of two arrays and compare them
> 
`_____________________num1_________________`

`______________num2____________________`

>[!note] Cue 1
>if `num1 < num2` we can be confident that if we merged these arrays together the `num2` would be at least `num1.index + num2.index`-th element.

`a1, a2, a3, a4, a5, a6, a7, ..., an`

`b1, b2, b3, b4, b5, ..., bm`

We could Imagine it as the binary tree, and the median of each set is the root.

Ok, say we take the halves (roots of trees) of both arrays first:

`_______________num1_________________`

`______________num2__________________`

if num1 < num2 then we move num1 right and num2 left such that num1.ind + num2.ind = n + m /2.

`_______________________num1_________`

`_______num2_________________________`


`____________________________num1____`

`___num2_____________________________`


and then keep balancing this way until... some final case... But what could the finishing case be???

We could imagine the problem as we have two linked sliders, so that both of the indexes of num1.ind + num2.ind = (n+m)/2. That's an invariant.

`xoxxooxxooxxxxoooxxxooooxoxoxoxoxoxoxxxxooxxxx`
`xxxxxxxxoooooooooooooooooooooooooooxxxxxooooo`

If x is the first array and o is the right array, here's what it could look like if we merged them.

>I have an idea for the final case. Say we yet again compare them and get that num1 < num2. Then if num1.ind + 1 > num2 and num2.ind - 1 < num1.ind we can safely stop. But we would also see the problem of the median being in the num2 array only (e.g. `[1,2,3] and [9, 10, 11, 12, 13, 14, 15, 16]`)

Its as if we are traversing in the following way:
`xoxxooxxooxxxxooOxxxooooxoxoxoXoxoxoxxxxooxxxx`

and I will make an algorithm that would shrink this gap with binary search.
